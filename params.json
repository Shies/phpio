{"name":"PHPIO","tagline":"Cross request trace for PHP,like google's dapper,twitter's zipkin. ","body":"# PHPIO\r\nCross request trace for PHP,like google's dapper,twitter's zipkin.  \r\nIt's base on [AOP-PHP](http://aop-php.github.com) extension. \r\nPHPIO is focus on trace IO operation, such like Curl, MySQL, Memcache, Redis, APC.   \r\nIt's easily write your own Hooker monitor function/class operation in 10 line code.\r\n\r\n* Common  \r\nconnection's host and port, call trace, function args, response and error message.\r\n* MySQL, PDO    \r\nrecord raw SQL query stirng and affected rows.\r\n* Curl  \r\nrecord raw http header(request & response), and reporting the full infomation of time,speed and size.\r\n* Memcached, Redis  \r\nrecord key for operation, the real server where key is mapped to.\r\n* Exception, Error  \r\nrecord errno and errmsg for Exception and Error.\r\n* Call Graph  \r\ncall graph is svg format, click map node redirect to source.\r\n* Source viewer  \r\nyou can see all your source code which been executed.\r\n* Cross Request Tracking   \r\nA unique request_id is auto inject in Cookie for track http request from frontpage to webservice api,\r\njust use a Redis logger can collecting logs from all your php web servers.\r\n\r\n\r\n[DEMO](http://hemon.github.io/phpio/demo/index.html)\r\n\r\n![Screenshot](//raw.github.com/hemon/phpio/master/www/img/screenshot.png)\r\n\r\n## Install aop extension\r\n```\r\npecl install aop-beta\r\n```\r\n```\r\n[aop]  \r\nextension=aop.so \r\n```\r\nif coredump ?  \r\n1. change you aop extension version (the pecl version is stable than github)  \r\n2. rebuild php\r\n\r\n## get phpio   \r\ndownload tarball  \r\n```\r\nwget https://github.com/hemon/phpio/tarball/master -O phpio.tar.gz  \r\ntar xvf phpio.tar.gz  \r\n```\r\nor git clone   \r\n```\r\ngit clone https://hemon@github.com/hemon/phpio\r\n```\r\n\r\n## prepend phpio.php   \r\nphp.ini  \r\n```\r\nauto_prepend_file = /path/to/phpio/phpio.php  \r\n```\r\nphp-fpm  \r\n```\r\nphp_admin_value[auto_prepend_file] = /path/to/phpio/phpio.php\r\n```\r\n\r\n## start profile\r\nrun you php programs with param XDEBUG_PROFILE=1  \r\n```\r\n$_REQUEST['XDEBUG_PROFILE']=1  \r\n$_COOKIE['XDEBUG_PROFILE']=1  \r\n$_SERVER['XDEBUG_PROFILE']=1  \r\n```\r\n\r\nfor example : \r\nhttp://www.example.com/index.php?XDEBUG_PROFILE=1 \r\n\r\nrecommand firfox addon [easy-xdebug](https://addons.mozilla.org/firefox/addon/easy-xdebug-with-moveable-/), it can auto append user defined cookie param in request(default is XDEBUG_PROFILE=1): \r\n\r\n\r\nin php-cli mode, use `export` command to set param for $_SERVER \r\n```\r\nexport XDEBUG_PROFILE=1\r\n```\r\n\r\n## view profile\r\nmake phpio/www is accessible:  \r\n```\r\nhttp://localhost/phpio/www/  \r\n```\r\n","google":"UA-279687-9","note":"Don't delete this file! It's used internally to help with page regeneration."}